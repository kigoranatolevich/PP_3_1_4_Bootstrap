<!DOCTYPE html>
<html lang="en, ru" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">

    <title>User Table</title>
</head>

<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<h2>User Info</h2>
<br>

<form th:fragment="modal" class="modal-content" id="formEdit"
      th:method="PATCH"
      th:action="@{/admin/updateUser}"
      th:with="editUser = ${user}">
    <header class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Edit User</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
        </button>
    </header>
    <div class="modal-body text-center mx-auto">
        <div class="from-group required">
            <div class="controls">
                <p>
                    <label for="id" class="form-label"><strong>ID</strong></label>
                    <input id="id" class="form-control" required="required" type="number"
                           th:value="${editUser.getId()}" name="id"
                           readonly>
                </p>
                <p>
                    <label for="firstName" class="form-label"><strong>First name</strong></label>
                    <input id="firstName" type="text" class="form-control"
                           th:value="${editUser.getFirstName()}"
                           name="firstName" required="required">
                </p>
                <p>
                    <label for="lastName" class="form-label"><strong>Last name</strong></label>
                    <input id="lastName" type="text" class="form-control"
                           th:value="${editUser.getLastName()}"
                           name="lastName" required="required">
                </p>
                <p>
                    <label for="age" class="form-label"><strong>Age</strong></label>
                    <input id="age" type="number" class="form-control"
                           th:value="${editUser.getAge()}" name="age"
                           required="required">
                </p>
                <p>
                    <label for="email" class="form-label"><strong>Email</strong></label>
                    <input id="email" type="email" class="form-control"
                           th:value="${editUser.getEmail()}" name="email"
                           required="required">
                </p>
                <p>
                    <label for="password" class="form-label"><strong>Password</strong></label>
                    <input id="password" type="password" class="form-control"
                           th:value="${editUser.getPassword()}" name="password"
                           required="required">
                </p>
                <p>
                    <label for="role" class="form-label"><strong>Role</strong></label>
                    <select id="role" name="role" class="form-select" multiple
                            aria-label="multiple select example" size="2"
                            required="required">
                        <option th:each="role :${allRoles}"
                                th:text="${role.getRole()}"
                                th:value="${role.id}">
                        </option>
                    </select>
                </p>
            </div>
        </div>
    </div>
    <footer class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
        </button>
        <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">
            Edit
        </button>
    </footer>
</form>

</body>
</html>